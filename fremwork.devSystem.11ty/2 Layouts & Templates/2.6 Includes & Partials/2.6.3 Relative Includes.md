| **Subtopic** | **Focus & Purpose** | **Key Concepts / Details** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **2.6.3 Relative Includes** | Pathing | `./` notation; engine differences; Component encapsulation | Including neighbors. |
| **[[2.6.3.1 Nunjucks Behavior]]** | Standard | Default: Relative to `_includes`; Relative (`./`) support varies by config | Nunjucks usually wants absolute paths. |
| **[[2.6.3.2 Liquid Behavior]]** | Legacy | `include_relative` (Jekyll) vs standard `include` | Liquid has a specific tag. |
| **[[2.6.3.3 Component Colocation]]** | Strategy | Keeping CSS/JS next to the `.njk` file; `{% include "./style.css" %}` | Keep related files together. |
| **[[2.6.3.4 The 11ty Plugin]]** | Solution | `eleventy-plugin-nunjucks-relative-path`; forcing dot notation support | Making `./` work everywhere. |
| **[[2.6.3.5 Path Debugging]]** | Troubleshooting | "Template not found"; checking root vs relative paths | Lost in the folder tree. |

# 2.6.3 Relative Includes

By default, Eleventy's `{% include %}` tag looks inside the global `_includes` folder.
`(src/_includes/header.njk)`.

However, for Component-Driven Design, you often want to link files relative to the **current file**, regardless of where `_includes` is.
`(src/components/card/card.njk includes ./card.css)`.

This is surprisingly complex because template engines were originally designed for flat directory structures.

---

## 2.6.3.1 Nunjucks Behavior

Standard Nunjucks expects all includes to be relative to the configured `loaders` (which Eleventy sets to `_includes` and your Input directory).

If you try `{% include "./sibling.njk" %}` inside a nested folder, standard Nunjucks might fail or look in the root.

**The Fix**:
You usually need to use the full path relative to the input root or use a plugin to enable true relative paths.

---

## 2.6.3.2 Component Colocation

The "Holy Grail" of component architecture is Colocation: storing the template, styles, and logic in one folder.

```text
src/components/card/
├── card.njk
├── card.css
└── card.js
```

Inside `card.njk`:
```html
<style>
  {% include "./card.css" %}
</style>
<div class="card">...</div>
```

To make this work reliably in Eleventy without a plugin, you often have to include from the root:
`{% include "src/components/card/card.css" %}`.

---

## 2.6.3.3 Liquid Behavior

Runaways from Jekyll will remember `{% include_relative %}`.

*   `{% include "file" %}`: Looks in `_includes`.
*   `{% include_relative "file" %}`: Looks in the same folder as the current file.

LiquidJS (Eleventy's engine) supports standard paths. To emulate Jekyll's `include_relative`, you typically just ensure your pathing logic lines up, but often you must stick to the root-relative pathing pattern for consistency.

---

## 2.6.3.4 Solving the "./" Problem

To get true `./` support in Nunjucks within Eleventy, relying on the `eleventy-plugin-nunjucks-relative-path` (community plugin) is a common strategy.

Or, use the **11ty Input Path Variable**:
Eleventy provides `page.inputPath`. You can sometimes compute the path dynamically, though this is verbose.

**Best Practice**:
Stick to **Root-Relative Paths** (paths starting from `src/`) or **Includes-Relative Paths** (paths starting from `_includes/`).
Trying to do `../../` traversal in templates often leads to fragile code that breaks when you move files.

---

## Quick Reference

| Pattern | Path | Engine Result |
| :--- | :--- | :--- |
| **Default** | `{% include "x.njk" %}` | Looks in `_includes/x.njk`. |
| **Root** | `{% include "src/x.njk" %}` | Looks in project root (if configured). |
| **Dot** | `{% include "./x.njk" %}` | Attempts relative (flaky without plugins). |
| **Jekyll** | `{% include_relative %}` | Specific Liquid tag for neighbors. |
