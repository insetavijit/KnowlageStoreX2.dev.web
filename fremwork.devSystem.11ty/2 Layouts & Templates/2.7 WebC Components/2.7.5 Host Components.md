| **Subtopic** | **Focus & Purpose** | **Key Concepts / Details** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **2.7.5 Host Components** | Rendering Control | `webc:nokeep`; `webc:root`; `webc:is` | controlling the wrapper. |
| **[[2.7.5.1 Default Behavior]]** | Output | The `<my-tag>` remains in the final HTML | The tag stays by default. |
| **[[2.7.5.2 webc:nokeep]]** | Removal | Stripping the outer tag; rendering only children "Ghost" components | Disappearing wrapper. |
| **[[2.7.5.3 webc:root]]** | Transformation | `webc:root="h1"`; changing the tag name at build time | Renaming the wrapper. |
| **[[2.7.5.4 webc:is]]** | Dynamic | `webc:is="my-dynamic-tag"`; Render component A or B based on logic | Switcher pattern. |
| **[[2.7.5.5 Declarative Shadow DOM]]** | Advanced | `<template shadowrootmode="open">`; Native browser encapsulation | Native Shadow DOM. |

# 2.7.5 Host Components

When you use a WebC component like `<my-card>`, standard behavior is to output that exact tag into the HTML.

**Input**: `<my-card>Hello</my-card>`
**Output**: `<my-card>Hello</my-card>`

However, sometimes you want the component to be "Invisible" (a logic wrapper) or you want it to become a standard semantic tag (like `<header>`).

---

## 2.7.5.1 Default Behavior (Custom Elements)

Leaving the custom tag in the DOM is often good! It serves as a hook for:
1.  **CSS**: `my-card { display: block }`
2.  **JS**: `document.querySelector('my-card')`

This is the standard "Web Components" model.

---

## 2.7.5.2 Ghost Components (`webc:nokeep`)

If you are building a purely server-side template (like a Nunjucks include replacement), you often don't want the custom tag polluting your DOM.

**Usage**:
```html
<my-card webc:nokeep>Hello</my-card>
```

**Output**:
```html
Hello
```

**Inside the Component**:
You can also set this default inside the component definition file itself:

```html
<!--- src/_components/my-card.webc --->
<template webc:nokeep>
  <div class="card">
    <slot></slot>
  </div>
</template>
```

Now, every time you use `<my-card>`, the tag disappears, and only `div.card` remains.

---

## 2.7.5.3 Transforming Tags (`webc:root`)

Sometimes you want `site-header.webc` to output a semantic `<header>` tag.

**Option 1: Nested Wrapper (Dirty)**
```html
<site-header>
  <header>...</header>
</site-header>
```

**Option 2: `webc:root` (Clean)**
```html
<!--- src/_components/site-header.webc --->
<header webc:root>
  <slot></slot>
</header>
```

**Output**:
```html
<header>...</header>
```

The component adopts the tag name of its root element override.

---

## 2.7.5.4 Dynamic Components (`webc:is`)

This is the WebC equivalent of `<component :is="type">` in Vue.

```html
<div webc:is="hero-section"></div>
```
Renders the `hero-section` component.

**Dynamic Usage**:
```html
<div webc:is="my-{{ type }}"></div>
```
If `type` is "card", it renders `<my-card>`.

---

## 2.7.5.5 Declarative Shadow DOM

WebC supports the modern "Declarative Shadow DOM" standard out of the box. This allows true style isolation in the browser without JavaScript.

```html
<!--- my-component.webc --->
<template shadowrootmode="open">
  <style>p { color: red; }</style>
  <p>I am isolated!</p>
</template>
```

**Output**:
```html
<my-component>
  <template shadowrootmode="open">
    <style>p { color: red; }</style>
    <p>I am isolated!</p>
  </template>
</my-component>
```

Browsers that support this will auto-attach the shadow root. Styles inside will **not** leak out, and global styles will **not** leak in.

---

## Quick Reference

| Attribute | Effect | Output |
| :--- | :--- | :--- |
| **(None)** | Default | `<my-tags>...</my-tag>` |
| **`webc:nokeep`** | Removal | `...` (Children only) |
| **`webc:root="h1"`** | Rename | `<h1>...</h1>` |
| **`webc:root`** | Override | Uses the inner tag as the outer tag. |
| **`webc:is="x"`** | Dynamic | `<x>...</x>` |
