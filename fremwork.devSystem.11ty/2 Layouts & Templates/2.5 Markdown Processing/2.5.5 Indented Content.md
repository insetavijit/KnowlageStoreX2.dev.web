| **Subtopic** | **Focus & Purpose** | **Key Concepts / Details** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **2.5.5 Indented Content** | Troubleshooting | White-space significance; nesting issues; 4-space rule | Indentation = Code Block. |
| **[[2.5.5.1 The 4-Space Rule]]** | Standard | Indenting lines by 4 spaces turns them into `<pre><code>` blocks | 4 spaces means "Code". |
| **[[2.5.5.2 Mixing HTML]]** | Pitfall | Indenting HTML tags inside MD creates visual bugs | Keep HTML flush left. |
| **[[2.5.5.3 Nested Lists]]** | Formatting | Sub-lists *must* be indented 4 spaces to render correctly | Align sub-bullets properly. |
| **[[2.5.5.4 Editors & Prettier]]** | Tools | Configuring VS Code/Prettier to respect Markdown spacing | Don't let tools ruin spacing. |
| **[[2.5.5.5 Paired Shortcodes]]** | Complexity | Indenting the content of `{% shortcode %}` can break markdown parsing | Be careful inside shortcodes. |

# 2.5.5 Indented Content (The "Silent Killer")

In almost every programming language (HTML, CSS, JS, Python), indentation is purely aesthetic or structural. In Markdown, **indentation is semantic**.

The most common bug in Eleventy Markdown processing is "Why does my paragraph look like code?" or "Why did my HTML tag stop working?" The answer is almost always **Indentation**.

---

## 2.5.5.1 The 4-Space Rule

In the original Markdown spec (and CommonMark), there were no fenced code blocks (```). The *only* way to make a code block was to indent the line by 4 spaces (or 1 tab).

**Input**:
```markdown
This is normal text.

    This is treated as code.
```

**Output**:
```html
<p>This is normal text.</p>
<pre><code>This is treated as code.</code></pre>
```

This legacy feature often trips up developers who try to "format" their Markdown file to look pretty by indenting sections.

---

## 2.5.5.2 Mixing HTML

If you write raw HTML in a Markdown file, you must treat it like code.

**BAD (Indented)**:
```markdown
<div>
  <p>I am indented 2 spaces.</p>
</div>
```

Depending on the parser and surrounding content, `markdown-it` might interpret the indented `<p>` as a code block *inside* the div, or simply fail to parse the Markdown inside it.

**Best Practice**: Always keep block-level HTML tags **flush left** in your `.md` files.

---

## 2.5.5.3 Nested Lists

The one place where indentation is **required** is nested lists.

**Correct**:
```markdown
*   Parent Item
    *   Child Item (Indented 4 spaces)
```

**Incorrect**:
```markdown
*   Parent Item
  *   Child Item (Indented 2 spaces)
```

With only 2 spaces, standard `markdown-it` often sees the child item as a new list or just text belonging to the parent, breaking the `<ul>` structure.

---

## 2.5.5.4 Paired Shortcodes

When using Nunjucks Paired Shortcodes inside a Markdown file, you might be tempted to indent the content.

```markdown
{% note %}
    This content is indented.
{% endnote %}
```

If the `note` shortcode returns Markdown to be processed, that indentation will turn "This content is indented" into a code block!

**Solution**:
1.  Don't indent inside shortcodes.
2.  Or ensure your shortcode strips leading whitespace before returning the string.

---

## 2.5.5.5 The `render-markdown` Filter Solution

If you absolutely need to indent things (e.g., inside a complex Nunjucks `if` block), the safest route is to capture the content and pass it through a custom `markdown` filter that strips indentation before rendering.

```html
{% set content %}
  # My Heading
  This content is safely indented in Nunjucks but cleaned before MD.
{% endset %}

{{ content | clean | markdown | safe }}
```

---

## Quick Reference

| Indent Level | Context | Result |
| :--- | :--- | :--- |
| **0 Spaces** | Standard | Normal Paragraph. |
| **4 Spaces** | Standard | **Code Block** (Pre/Code). |
| **2 Spaces** | Lists | Often fails to nest; creates sibling. |
| **4 Spaces** | Lists | Correctly creates nested `<ul>`. |
