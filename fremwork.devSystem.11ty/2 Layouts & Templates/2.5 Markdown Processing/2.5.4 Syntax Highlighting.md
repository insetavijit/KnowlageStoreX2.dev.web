| **Subtopic** | **Focus & Purpose** | **Key Concepts / Details** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **2.5.4 Syntax Highlighting** | Presentation | `eleventy-plugin-syntaxhighlight`; PrismJS; Server-side | Pretty code blocks. |
| **[[2.5.4.1 Official Plugin]]** | Integration | `addPlugin(syntaxHighlight)`; Zero client-side JS required | HTML + CSS only. |
| **[[2.5.4.2 Structure]]** | Syntax | Triple backticks + language alias (\`\`\`js); Parsing flow | Marking code regions. |
| **[[2.5.4.3 Diff Highlights]]** | Visuals | `diff-js`; `+` and `-` markers for added/removed lines | Showing code changes. |
| **[[2.5.4.4 Line Numbers]]** | Features | `lineHighlight`; `showLineNumbers: true`; CSS requirements | Counting lines. |
| **[[2.5.4.5 Tab Support]]** | Markup | Use `tab` separator for highlighting within tabs (plugin specific) | Grouping code samples. |

# 2.5.4 Syntax Highlighting

Displaying code snippets is a core requirement for developer blogs. While you can use client-side libraries (like Highlight.js) that run in the browser, Eleventy allows you to perform **Build Time Syntax Highlighting**.

This is superior for performance: your user receives pre-colored HTML with no JavaScript overhead.

---

## 2.5.4.1 The Official Plugin

Eleventy maintains an official plugin: `@11ty/eleventy-plugin-syntaxhighlight`. It uses **PrismJS** under the hood.

**Installation**:
```bash
npm install @11ty/eleventy-plugin-syntaxhighlight
```

**Configuration**:
```javascript
const syntaxHighlight = require("@11ty/eleventy-plugin-syntaxhighlight");

module.exports = function(eleventyConfig) {
  eleventyConfig.addPlugin(syntaxHighlight);
};
```

**CSS Requirement**:
The plugin only adds the *classes* (`token`, `keyword`, `string`). You must load a PrismJS theme CSS file (e.g., "Okaidia" or "Tomorrow Night") in your `<head>` for the colors to appear.

---

## 2.5.4.2 Fenced Code Blocks

Once installed, the plugin automatically hooks into Markdown's fenced code blocks.

**Input**:
````markdown
```js
function hello() {
  console.log("world");
}
```
````

**Output (Approximate)**:
```html
<pre class="language-js">
  <code class="language-js">
    <span class="token keyword">function</span> 
    <span class="token function">hello</span>...
  </code>
</pre>
```

---

## 2.5.4.3 Diff Highlighting

A killer feature for tutorials is showing what code changed. You can use the `diff-` prefix on your language alias.

````markdown
```diff-js
  function hello() {
-   console.log("old");
+   console.log("new");
  }
```
````

This instructs the highlighter to color the lines red (`-`) and green (`+`) while still syntax-highlighting the JavaScript keywords.

---

## 2.5.4.4 Line Highlights

You can highlight specific lines to draw attention to them, similar to GitHub.

````markdown
```js/1,3-5
var x = 1; // Highlighted
var y = 2;
var z = 3; // Highlighted
```
````

This adds a `highlight-line` class to the specified line numbers.

---

## 2.5.4.5 Customizing Languages

Sometimes your language isn't supported by default, or you want to map a shortcut.

```javascript
eleventyConfig.addPlugin(syntaxHighlight, {
  templateFormats: ["md", "njk"],
  init: function({ Prism }) {
    // Add custom languages here
    Prism.languages.myCustomLang = { ... };
  }
});
```

Common alias issue: ensuring `json` files are highlighted correctly often requires explicitly marking them as `json` rather than just generic text.

---

## Quick Reference

| Feature | Syntax | Note |
| :--- | :--- | :--- |
| **Basic** | `` `lang `` | Standard PrismJS highlighting. |
| **Diff** | `` `diff-lang `` | `+` Add / `-` Remove lines. |
| **CSS** | `<link rel="stylesheet">` | **Required!** No CSS = No Color. |
| **No JS** | Zero Runtime | Works with JS disabled. |
