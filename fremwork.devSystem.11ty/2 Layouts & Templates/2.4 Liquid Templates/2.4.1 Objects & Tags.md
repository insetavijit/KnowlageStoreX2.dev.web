| **Subtopic** | **Focus & Purpose** | **Key Concepts / Details** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **2.4.1 Objects & Tags** | Core Syntax | Output `{{ }}` vs Tags `{% %}`; Strictness | The grammar of Liquid. |
| **[[2.4.1.1 Output markup]]** | Display | `{{ variable }}`; renders content to HTML; stringifies data | Double curlies = Print. |
| **[[2.4.1.2 Tag Markup]]** | Logic | `{% if %}`, `{% for %}`, `{% assign %}`; Control flow & assignments | Percent curlies = Do. |
| **[[2.4.1.3 Comments]]** | Metadata | `{% comment %}...{% endcomment %}`; stripping content from production | Invisible notes. |
| **[[2.4.1.4 Whitespace Control]]** | Formatting | `{%-` and `-%}`; stripping specific newlines and spaces | Cleaning up the HTML output. |
| **[[2.4.1.5 Syntax Strictness]]** | Constraints | No logic in output; limited operators; intentional limitations | Liquid is strict on purpose. |

# 2.4.1 Objects & Tags: The Grammar of Liquid

Liquid (created by Shopify) is the default template engine for Jekyll and historically significant for Eleventy. It follows a philosophy of **Safe, Stateless, and Strict** templating. Unlike Nunjucks or EJS which allow complex JavaScript logic, Liquid intentionally restricts what you can do to ensure "Safety by Design."

Understanding Liquid means understanding its two distinct modes: **Output** (Saying things) and **Tags** (Doing things).

---

## 2.4.1.1 Output Markup (`{{ }}`)

Output markup (often called "Objects") is used to print data to the page.

```liquid
<h1>{{ page.title }}</h1>
<p>Hello, {{ user.name }}</p>
```

**Key Characteristics**:
1.  **Stringification**: Whatever is inside is converted to a string.
2.  **No Logic**: You cannot do `{{ if x }}true{{ endif }}` inside output tags.
3.  **Filters**: You *can* modify output using filters (the pipe `|` syntax).

---

## 2.4.1.2 Tag Markup (`{% %}`)

Tag markup handles the logic and control flow of your template. It never outputs text directly; it directs the engine *how* to process the text.

```liquid
{% if user %}
  {% assign greeting = "Hello" %}
{% endif %}
```

Common Tags:
*   **Logic**: `if`, `unless`, `case/when`
*   **Iteration**: `for`, `cycle`, `tablerow`
*   **Variable**: `assign`, `capture`

---

## 2.4.1.3 Comments

Liquid comments are block-based. They are stripped entirely from the rendered HTML.

```liquid
{% comment %}
  This will not appear in the source code.
  Use this to document complex logic.
{% endcomment %}
```

There is no "inline" comment syntax (like `{# #}` in Nunjucks). You must use the block.

---

## 2.4.1.4 Whitespace Control (Hyphens)

By default, every tag in Liquid leaves a blank line or whitespace in your HTML output.
`{% if true %}` leaves a blank line.

To strip whitespace from the left or right of a tag, add a hyphen `-`.

```liquid
<!-- With Whitespace -->
{% assign x = 1 %}
{{ x }}

<!-- Output:
 
1
-->

<!-- Stripped -->
{%- assign x = 1 -%}
{{- x -}}

<!-- Output:1 -->
```

**Rule of Thumb**: If your HTML looks messy and filled with gaps, start adding hyphens to your control flow tags.

---

## 2.4.1.5 Syntax Strictness

Liquid is famous (or infamous) for being strict.

*   **No Math in Output**: `{{ 1 + 1 }}` fails. You must use filters: `{{ 1 | plus: 1 }}`.
*   **No Parentheses**: `{% if (x or y) and z %}` fails. Order of operations is Right-to-Left essentially.
*   **No Method Calls**: `{{ array.pop() }}` fails. You can only access properties.

This strictness is a feature, not a bug. It forces you to keep business logic *out* of your templates and arguably results in more maintainable frontend code.

---

## Quick Reference

| Syntax | Name | Purpose |
| :--- | :--- | :--- |
| `{{ ... }}` | Object / Output | Prints data to the screen. |
| `{% ... %}` | Tag | Performs logic or control flow. |
| `{%- ... -%}` | Whitespace Control | Removes surrounding spaces/newlines. |
| `{% comment %}` | Comment Block | Removes content from output. |
| `\|` | Filter | Modifies output (e.g., `{{ x \| upcase }}`). |
