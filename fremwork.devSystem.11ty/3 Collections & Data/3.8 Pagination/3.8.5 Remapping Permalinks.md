# Remapping Permalinks: Custom URL Structures

The default pagination URLs (`/0/`, `/1/`, `/2/`) are rarely what you want. Eleventy lets you **remap permalinks** using template syntax to create semantic, SEO-friendly URLs.

---

## The Fundamental Principle: Dynamic URLs

Permalinks in paginated templates can include:
- Pagination variables (`pagination.pageNumber`)
- Data from the current item (with alias)
- Filters for URL safety

---

## Standard Blog Pattern

First page at `/blog/`, subsequent at `/blog/page/2/`:

```yaml
---
pagination:
  data: collections.post
  size: 10
permalink: "blog/{% if pagination.pageNumber > 0 %}page/{{ pagination.pageNumber + 1 }}/{% endif %}index.html"
---
```

**Output:**
- `/blog/index.html` (page 0)
- `/blog/page/2/index.html` (page 1)
- `/blog/page/3/index.html` (page 2)

---

## Aliased Item URLs

For `size: 1` pages, use the item data:

```yaml
---
pagination:
  data: products
  size: 1
  alias: product
permalink: "products/{{ product.slug | slugify }}/"
---
```

**Output:** `/products/widget-pro/`, `/products/gadget-x/`

---

## Date-Based URLs

For blog posts or archives:

```yaml
---
pagination:
  data: collections.post
  size: 1
  alias: post
permalink: "blog/{{ post.date | date: '%Y/%m/%d' }}/{{ post.data.slug }}/"
---
```

**Output:** `/blog/2024/05/15/my-post/`

---

## Category + Slug Pattern

```yaml
---
pagination:
  data: collections.post
  size: 1
  alias: post
permalink: "{{ post.data.category | slugify }}/{{ post.data.slug }}/"
---
```

**Output:** `/tutorials/getting-started/`, `/news/latest-update/`

---

## Always Slugify Dynamic Values

User-entered or data-sourced values might contain unsafe characters:

```yaml
# Unsafe
permalink: "products/{{ product.name }}/"

# Safe
permalink: "products/{{ product.name | slugify }}/"
```

"Product Name!" â†’ `/products/product-name/`

---

## Handling Edge Cases

**Empty/Null Values:**
```yaml
permalink: "{{ category | default: 'uncategorized' | slugify }}/{{ slug }}/"
```

**Trailing Slashes:**
Eleventy expects trailing slashes for folder-based URLs. Ensure consistency.

---

## Common Pitfalls and Solutions

**Problem:** Duplicate permalinks cause build errors.

**Cause:** Two items have the same computed URL.

**Solution:** Include unique identifiers (ID, date + slug, etc.).

---

**Problem:** Special characters break URLs.

**Solution:** Always use `| slugify` or `| slug` filter.

---

**Problem:** Page number URLs start at 0.

**Solution:** Add 1 for human-friendly numbers: `{{ pagination.pageNumber + 1 }}`.

---

## Quick Reference

| Pattern | Example URL |
| :--- | :--- |
| **Numbered** | `/blog/page/2/` |
| **Slug-based** | `/products/widget/` |
| **Date-based** | `/blog/2024/05/15/post/` |
| **Category** | `/tutorials/intro/` |
| **First Page** | Skip number if `pageNumber == 0` |

---

_This guide covers remapping permalinks. You have now completed the Pagination section and Chapter 3: Collections & Data._
