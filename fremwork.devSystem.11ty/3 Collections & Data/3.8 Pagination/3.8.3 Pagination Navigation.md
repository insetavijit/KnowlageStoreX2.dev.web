# Pagination Navigation: Previous, Next, and Page Lists

Once you have paginated content, users need a way to navigate between pages. Eleventy provides all the URLs and metadata needed to build navigation UI.

---

## The Fundamental Principle: URLs Are Pre-Computed

Eleventy calculates all page URLs during build and exposes them through the `pagination` object. You don't need to construct URLs manually.

---

## Previous/Next Links

The simplest navigation pattern:

```html
<nav class="pagination">
  {% if pagination.href.previous %}
    <a href="{{ pagination.href.previous }}">← Previous</a>
  {% endif %}
  
  {% if pagination.href.next %}
    <a href="{{ pagination.href.next }}">Next →</a>
  {% endif %}
</nav>
```

- `pagination.href.previous` is `null` on the first page
- `pagination.href.next` is `null` on the last page

---

## First/Last Links

For quick jumps:

```html
<a href="{{ pagination.href.first }}">First</a>
<a href="{{ pagination.href.last }}">Last</a>
```

---

## Numbered Page List

Display all page numbers:

```html
<nav aria-label="Pagination">
  <ul class="pagination">
    {% for href in pagination.hrefs %}
      <li>
        <a href="{{ href }}"
           {% if page.url === href %}aria-current="page" class="active"{% endif %}>
          {{ loop.index }}
        </a>
      </li>
    {% endfor %}
  </ul>
</nav>
```

Key points:
- `pagination.hrefs` is an array of all page URLs
- Compare with `page.url` to highlight current page
- `loop.index` provides 1-based page numbers

---

## Complete Navigation Component

```html
<nav aria-label="Pagination" class="pagination">
  {# First and Previous #}
  {% if pagination.href.previous %}
    <a href="{{ pagination.href.first }}" class="first">« First</a>
    <a href="{{ pagination.href.previous }}" class="prev">‹ Prev</a>
  {% else %}
    <span class="first disabled">« First</span>
    <span class="prev disabled">‹ Prev</span>
  {% endif %}
  
  {# Page Numbers #}
  {% for href in pagination.hrefs %}
    {% if page.url === href %}
      <span class="current">{{ loop.index }}</span>
    {% else %}
      <a href="{{ href }}">{{ loop.index }}</a>
    {% endif %}
  {% endfor %}
  
  {# Next and Last #}
  {% if pagination.href.next %}
    <a href="{{ pagination.href.next }}" class="next">Next ›</a>
    <a href="{{ pagination.href.last }}" class="last">Last »</a>
  {% else %}
    <span class="next disabled">Next ›</span>
    <span class="last disabled">Last »</span>
  {% endif %}
</nav>
```

---

## Truncated Navigation (Many Pages)

For 100+ pages, showing all numbers is impractical:

```html
{% set maxVisible = 5 %}
{% set start = [pagination.pageNumber - 2, 0] | max %}
{% set end = [start + maxVisible, pagination.hrefs.length] | min %}

{% for i in range(start, end) %}
  <a href="{{ pagination.hrefs[i] }}"
     {% if i === pagination.pageNumber %}class="active"{% endif %}>
    {{ i + 1 }}
  </a>
{% endfor %}
```

---

## Common Pitfalls and Solutions

**Problem:** Active state doesn't highlight correctly.

**Cause:** URL comparison mismatch (trailing slashes, etc.)

**Solution:** Ensure permalink output matches `page.url` format exactly.

---

**Problem:** Navigation appears on single-page results.

**Solution:** Hide if only one page: `{% if pagination.pages.length > 1 %}...{% endif %}`

---

## Quick Reference

| Property | Purpose |
| :--- | :--- |
| `href.previous` | URL of previous page (or null) |
| `href.next` | URL of next page (or null) |
| `href.first` | URL of first page |
| `href.last` | URL of last page |
| `hrefs` | Array of all page URLs |
| `pageNumber` | Current page (0-indexed) |

---

_This guide covers pagination navigation. Natural progressions include **aliasing** and **custom permalinks**._
