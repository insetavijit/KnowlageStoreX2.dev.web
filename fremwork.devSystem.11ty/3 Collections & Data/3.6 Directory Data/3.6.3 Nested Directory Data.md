# Nested Directory Data: Hierarchical Configuration

When folders are nested, each level can have its own directory data file. Eleventy **merges them from parent to child**, with deeper directories winning conflicts.

---

## The Fundamental Principle: Data Flows Downward

```
blog/
├── blog.json           ← Applies to everything in blog/
├── 2024/
│   ├── 2024.json       ← Adds/overrides for 2024/
│   └── january/
│       ├── january.json ← Adds/overrides for january/
│       └── article.md   ← Gets all three merged
```

The `article.md` inherits from `blog.json`, then `2024.json`, then `january.json`.

---

## Merge Behavior

With deep merge enabled:
- **Objects**: Keys combine
- **Arrays** (like tags): Concatenate
- **Primitives**: Deeper value wins

**`blog/blog.json`:**
```json
{
  "layout": "blog.njk",
  "tags": ["blog"]
}
```

**`blog/2024/2024.json`:**
```json
{
  "tags": ["2024"]
}
```

**`blog/2024/january/january.json`:**
```json
{
  "category": "winter"
}
```

**Final data for `article.md`:**
```javascript
{
  layout: "blog.njk",    // From blog.json
  tags: ["blog", "2024"], // Merged
  category: "winter"      // From january.json
}
```

---

## Override vs Inherit

Override happens when the same key appears at multiple levels:

**Parent:**
```json
{ "author": "Editorial" }
```

**Child:**
```json
{ "author": "Guest Writer" }
```

**Result:** `{ author: "Guest Writer" }` — deeper wins.

---

## Practical Structure

A well-organized documentation site:

```
docs/
├── docs.json              # layout: "docs.njk", tags: ["documentation"]
├── getting-started/
│   ├── getting-started.json  # order: 1
│   └── tutorial.md
├── api/
│   ├── api.json           # tags: ["api"], layout: "api-docs.njk"
│   └── endpoints.md
└── advanced/
    ├── advanced.json      # order: 3
    └── deep-dive.md
```

Each section has its own configuration while inheriting the base documentation settings.

---

## Common Pitfalls and Solutions

**Problem:** Deep nested file doesn't inherit from top-level.

**Cause:** Missing intermediate directory data files or merge not enabled.

**Solution:** Verify the chain. Each folder needs its own data file if you want to add to the cascade.

---

**Problem:** Tags are duplicating.

**Cause:** Deep merge concatenates arrays, so the same tag at multiple levels appears multiple times.

**Solution:** Only define tags at one level, or deduplicate in computed data.

---

## Quick Reference

| Level | Priority | Effect |
| :--- | :--- | :--- |
| **Parent Folder** | Lower | Provides defaults |
| **Child Folder** | Higher | Overrides/extends |
| **Content File** | Highest | Final say |

---

_This guide covers nested directory data. Natural progressions include **dynamic directory data** and **debugging the cascade**._
