# The `_data` Directory: Global Data Foundation

The `_data` directory is Eleventy's **global data warehouse**. Every file you place here becomes a globally accessible variable in all your templates—no imports, no configuration, just automatic availability.

---

## The Fundamental Principle: Files Become Variables

```
_data/
├── site.json     → {{ site.name }}
├── navigation.js → {{ navigation }}
└── users/
    └── admins.json → {{ users.admins }}
```

Eleventy scans this directory at build time and makes the contents available everywhere. This is the simplest way to share data across your entire site.

---

## Default Location

By default, Eleventy looks for `_data` at the root of your **input directory**:

```
my-project/
├── _data/          ← Here
├── _includes/
└── index.md
```

Or, if you have a custom input directory:

```
my-project/
├── src/
│   ├── _data/      ← Here
│   ├── _includes/
│   └── index.md
└── eleventy.config.js
```

---

## Customizing the Location

You can change the data directory in your configuration:

```javascript
// eleventy.config.js
module.exports = function(eleventyConfig) {
  return {
    dir: {
      input: "src",
      data: "_data"  // Relative to input directory
    }
  };
};
```

Some projects use `data` (without underscore) or `_content/data` for organizational reasons.

---

## File to Variable Mapping

The filename (without extension) becomes the variable name:

| File | Variable |
| :--- | :--- |
| `_data/site.json` | `site` |
| `_data/nav.yaml` | `nav` |
| `_data/helpers.js` | `helpers` |

**Case Sensitivity:** File names are case-sensitive. `Site.json` creates `Site`, not `site`.

---

## Subdirectory Nesting

Subdirectories create nested objects:

```
_data/
├── blog/
│   ├── authors.json   → blog.authors
│   └── categories.json → blog.categories
└── products/
    └── featured.json  → products.featured
```

**Usage:**
```html
{% for author in blog.authors %}
  {{ author.name }}
{% endfor %}
```

This organizational pattern scales beautifully for complex data structures.

---

## Supported File Formats

Eleventy supports multiple formats in `_data`:

| Format | Extension | Notes |
| :--- | :--- | :--- |
| **JSON** | `.json` | Most common, directly parsed |
| **YAML** | `.yaml` or `.yml` | Human-friendly, supports comments |
| **JavaScript** | `.js` | Dynamic, can use environment variables |
| **CJS** | `.cjs` | CommonJS modules |
| **ESM** | `.mjs` | ES Modules |

All formats in the same directory merge into a single namespace.

---

## Naming Conflicts

Be careful with names that collide with Eleventy's built-in variables:

**Avoid:**
- `_data/page.json` → Conflicts with `page` object
- `_data/content.json` → Conflicts with `content` variable
- `_data/collections.json` → Conflicts with `collections`
- `_data/eleventy.json` → Conflicts with `eleventy` meta object

**Solution:** Use descriptive, project-specific names like `siteConfig.json`.

---

## Common Pitfalls and Solutions

**Problem:** Variable is undefined in templates.

**Cause:** File isn't in `_data` or has a typo in the filename.

**Solution:** Verify the file exists and check case sensitivity.

---

**Problem:** Data loads in development but not in production.

**Cause:** File was gitignored or not committed.

**Solution:** Check `.gitignore` doesn't exclude your data files.

---

**Problem:** JSON parse errors crash the build.

**Cause:** Invalid JSON syntax.

**Solution:** Use a JSON validator. Common issues: trailing commas, missing quotes.

---

## Quick Reference

| Aspect | Details |
| :--- | :--- |
| **Default Path** | `{input}/_data` |
| **Variable Naming** | Filename without extension |
| **Nesting** | Subdirectories create nested objects |
| **Formats** | JSON, YAML, JavaScript |
| **Priority** | Lowest in data cascade |

---

_This guide covers the `_data` directory basics. Natural progressions include **JavaScript data files**, **fetching external data**, and **dynamic data preprocessing**._
