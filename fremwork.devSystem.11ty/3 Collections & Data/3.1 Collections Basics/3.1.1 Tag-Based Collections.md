| **Subtopic** | **Focus & Purpose** | **Key Concepts / Details** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **3.1.1 Tag-Based Collections** | Grouping | `tags` Front Matter; `collections.tag`; Automatic lists | The default database engine. |
| **[[3.1.1.1 Defining Tags]]** | Syntax | `tags: "post"`; `tags: ["news", "tech"]`; String or Array | Labeling content. |
| **[[3.1.1.2 Accessing Collections]]** | Usage | `collections.myTag`; Iterating via `{% for %}` loop | Querying the database. |
| **[[3.1.1.3 Default Sorting]]** | Order | Sorted by Date (Oldest -> Newest) by default; file creation date | Date-based sorting. |
| **[[3.1.1.4 Case Sensitivity]]** | Pitfall | "Post" !== "post"; creates two separate collections | Tags are strict. |
| **[[3.1.1.5 Excluding Content]]** | Control | `eleventyExcludeFromCollections: true`; Hiding pages | Hiding from lists. |

# 3.1.1 Tag-Based Collections

If Files are the "Rows" in your static site database, **Collections** are the "Queries".

The simplest way to create a query is to tag a file. Eleventy automatically scans every file in your project, looks for the `tags` key in Front Matter, and builds a list of all files sharing that tag.

---

## 3.1.1.1 Defining Tags

You define tags in the Front Matter (YAML).

**Single Tag**:
```yaml
---
title: My Post
tags: post
---
```

**Multiple Tags (Array)**:
```yaml
---
title: My Update
tags: ["post", "news", "featured"]
---
```

**Note**: You can also use the shorthand YAML list syntax:
```yaml
tags:
  - post
  - news
```

---

## 3.1.1.2 Accessing Collections

Once you tag files, they are available in the global `collections` object. The key matches the tag name.

**Looping in Nunjucks**:
```html
<ul>
{% for post in collections.post %}
  <li><a href="{{ post.url }}">{{ post.data.title }}</a></li>
{% endfor %}
</ul>
```

This simple loop is the engine behind 90% of blog indexes, archives, and RSS feeds.

---

## 3.1.1.3 Default Sorting

By default, Tag-Based Collections are sorted by **Date** in **Ascending** order (Oldest -> Newest).

1.  `date` key in Front Matter (Explicit).
2.  File Creation Date (Implicit).

If you want Newest -> Oldest (standard for blogs), you must reverse the loop:

```html
{% for post in collections.post | reverse %}
  ...
{% endfor %}
```

---

## 3.1.1.4 Case Sensitivity (The Trap)

Tags are strictly case-sensitive strings.

*   File A: `tags: post`
*   File B: `tags: Post`

Result:
*   `collections.post` = [File A]
*   `collections.Post` = [File B]

**Best Practice**: Adopt a strict "lowercase-kebab-case" policy for all tags to avoid fractured collections.

---

## 3.1.1.5 Excluding Content

Sometimes you want a page to have a tag (so it inherits layout/data) but **hide** it from the public list (e.g., a "Draft" or "404" page).

```yaml
---
title: Broken Link
tags: page
eleventyExcludeFromCollections: true
---
```

This file will:
1.  Still process normally.
2.  Still appear in various data cascades.
3.  **NOT** appear in `collections.page` or `collections.all`.

---

## Quick Reference

| Feature | Syntax | Note |
| :--- | :--- | :--- |
| **Key** | `tags` | Plural. `tag` (singular) does not work. |
| **Access** | `collections.tagName` | Global object. |
| **Sort** | Date (Ascending) | Default behavior. |
| **Reverse** | `\| reverse` | Filter to show newest first. |
| **Exclude** | `eleventyExcludeFromCollections` | True/False. |
