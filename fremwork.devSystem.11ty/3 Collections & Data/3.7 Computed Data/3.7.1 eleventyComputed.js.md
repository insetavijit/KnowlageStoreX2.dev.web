# eleventyComputed: Late-Binding Data

`eleventyComputed` is Eleventy's **final pass** in the data cascade. It lets you define variables that depend on other variablesâ€”even variables that don't exist until all other data has been resolved.

---

## The Fundamental Principle: Deferred Calculation

Normal front matter is evaluated immediately. Computed data waits until the entire data cascade is assembled, then calculates its values.

This enables:
- Referencing other front matter keys
- Building complex values from simple inputs
- Providing intelligent defaults

---

## Basic Syntax (Front Matter)

```yaml
---
title: "My Post"
eleventyComputed:
  fullTitle: "{{ title }} | My Site"
---
```

The `fullTitle` becomes `"My Post | My Site"`. It references `title`, which was defined in the same front matter.

---

## JavaScript Syntax (More Power)

For complex logic, use JavaScript:

```yaml
---
title: "Hello World"
eleventyComputed:
  slug: "data.title.toLowerCase().replace(/\\s+/g, '-')"
---
```

Or in a JavaScript data file:

```javascript
// posts.11tydata.js
module.exports = {
  eleventyComputed: {
    fullTitle: (data) => `${data.title} | My Site`,
    readTime: (data) => Math.ceil(data.content?.split(' ').length / 200)
  }
};
```

---

## Directory-Wide Computed Data

Apply computed data to all files in a folder:

**`posts/posts.11tydata.js`:**
```javascript
module.exports = {
  eleventyComputed: {
    // Every post gets an SEO title
    seoTitle: (data) => data.seoTitle || `${data.title} - Blog`,
    
    // Calculate based on content
    wordCount: (data) => data.content?.split(/\s+/).length || 0
  }
};
```

---

## Accessing the Full Data Object

Inside a computed function, `data` contains **everything**:
- All front matter
- Directory data
- Global data
- Built-in page metadata (`data.page.url`, `data.page.date`)

```javascript
eleventyComputed: {
  canonicalUrl: (data) => `https://example.com${data.page.url}`,
  isHomepage: (data) => data.page.url === "/"
}
```

---

## Common Use Cases

**SEO Meta Tags:**
```javascript
metaDescription: (data) => data.description || data.excerpt || `Read ${data.title}`
```

**Conditional Layouts:**
```javascript
layout: (data) => data.type === "gallery" ? "gallery.njk" : "post.njk"
```

**Default Values:**
```javascript
author: (data) => data.author || "Editorial Team"
```

---

## Common Pitfalls and Solutions

**Problem:** Computed value is undefined.

**Cause:** The source variable doesn't exist yet.

**Solution:** Check spelling and data cascade order.

---

**Problem:** Circular dependency error.

**Cause:** Variable A depends on B, B depends on A.

**Solution:** Restructure your data so dependencies flow one direction.

---

## Quick Reference

| Syntax | Use Case |
| :--- | :--- |
| **Template String** | `"{{ title }} - Site"` |
| **JS Function** | `(data) => data.title.toUpperCase()` |
| **Directory File** | `folder.11tydata.js` with `eleventyComputed` |
| **Access Page** | `data.page.url`, `data.page.date` |

---

_This guide covers eleventyComputed basics. Natural progressions include **dependent variables**, **computed permalinks**, and **debugging computed data**._
