| **Subtopic** | **Focus & Purpose** | **Key Concepts / Details** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **3.2.3 Filtering by Glob or Path** | File System | `getFilteredByGlob`; `inputPath`; Directory-based collections | Organizing by folder. |
| **[[3.2.3.1 getFilteredByGlob]]** | Performance | `collection.getFilteredByGlob("src/posts/*.md")`; Fast lookup | The fast lane. |
| **[[3.2.3.2 Multiple Globs]]** | Flexibility | Passing an array: `["src/a/*.md", "src/b/*.md"]` | Mixing folders. |
| **[[3.2.3.3 Converting Path to Collection]]** | Strategy | Creating collections based on folder structure automatically | Folders = Categories. |
| **[[3.2.3.4 Checking inputPath]]** | Manual | `item.inputPath.includes("/drafts/")`; String checks inside `.filter()` | Checking the string path. |
| **[[3.2.3.5 Negative Globs]]** | Exclusion | `!src/secret/*.md`; Excluding paths using `!` prefix | Exclude patterns. |

# 3.2.3 Filtering by Glob or Path

Sometimes you don't want to rely on your editors remembering to add `tags: post` to every file.
Instead, you want to say: "Everything in the `src/posts/` folder is a Post."

This is where **Glob-based Collections** shine.

---

## 3.2.3.1 `getFilteredByGlob`

This is the most performant way to create a collection in Eleventy because it checks the file system path before reading the Front Matter.

```javascript
eleventyConfig.addCollection("posts", collection => {
  // Returns all content files in src/posts
  return collection.getFilteredByGlob("src/posts/*.md");
});
```

**Note**: The path is relative to the project root, not the `.eleventy.js` file location (though usually they are the same).

---

## 3.2.3.2 Multiple Globs

You can aggregate multiple directories into one collection by passing an array.

```javascript
eleventyConfig.addCollection("content", collection => {
  return collection.getFilteredByGlob([
    "src/posts/*.md",
    "src/notes/*.md",
    "src/events/*.md"
  ]);
});
```

---

## 3.2.3.3 Negative Globs

You can exclude files using the standard Glob negation syntax (`!`).

```javascript
eleventyConfig.addCollection("publicPosts", collection => {
  return collection.getFilteredByGlob([
    "src/posts/*.md",
    "!src/posts/drafts/*.md"
  ]);
});
```

Verify that the exclusion pattern actually matches the files you intend to exclude.

---

## 3.2.3.4 Filtering by `inputPath` (Manual)

If `getFilteredByGlob` is too broad (e.g., you need to filter within a `getAll()` chain), you can inspect `item.inputPath`.

```javascript
eleventyConfig.addCollection("manualCheck", collection => {
  return collection.getAll().filter(item => {
    // Check if path contains string
    return item.inputPath.startsWith("./src/docs/");
  });
});
```

*Warning*: `inputPath` often starts with `./`. Be consistent.

---

## 3.2.3.5 Structuring Data by Folder

A powerful pattern is to use Directory Data Files (`src/posts/posts.json`) to assign a tag to everything in a folder, and then use `getFilteredByTag`.
However, `getFilteredByGlob` ignores tags and looks strictly at location.

**Use Case**:
*   **Tags**: For cross-cutting concerns ("Featured", "React", "11ty").
*   **Globs**: For content types defined by architecture ("Blog", "Documentation", "Team Members").

---

## Quick Reference

| Method | Syntax | Advantage |
| :--- | :--- | :--- |
| **Glob** | `src/**/*.md` | Fast; File-system based. |
| **Negation** | `!src/tests/*` | Easy exclusion. |
| **Brace** | `src/{posts,notes}/*` | Complex patterns. |
| **Path** | `inputPath` | Available on every item object. |
