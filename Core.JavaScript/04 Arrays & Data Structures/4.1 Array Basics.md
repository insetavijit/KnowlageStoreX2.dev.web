# **[[4.1 Array Basics]]**

## Overview

This topic covers JavaScript array fundamentals. You'll learn to create and access arrays, understand array indexing, get array length, check if values are arrays, and work with multi-dimensional arrays.

## Creating Arrays

Arrays store ordered collections of values.

**Array Literal:**
```javascript
let fruits = ["apple", "banana", "orange"];
let numbers = [1, 2, 3, 4, 5];
let mixed = [1, "hello", true, null];
let empty = [];
```

**Array Constructor:**
```javascript
let arr = new Array(3);    // Creates array with 3 empty slots
let arr2 = new Array(1, 2, 3);  // Creates [1, 2, 3]

// Prefer literal syntax
let preferred = [1, 2, 3];
```

**Array.of():**
```javascript
// Creates array from arguments
let arr = Array.of(1, 2, 3);    // [1, 2, 3]
let arr2 = Array.of(5);         // [5] (not 5 empty slots)
```

**Array.from():**
```javascript
// Create from iterable or array-like
let chars = Array.from("hello");  // ["h", "e", "l", "l", "o"]
let nums = Array.from([1, 2, 3], x => x * 2);  // [2, 4, 6]

// Create with length
let zeros = Array.from({ length: 5 }, () => 0);  // [0, 0, 0, 0, 0]
let indices = Array.from({ length: 5 }, (_, i) => i);  // [0, 1, 2, 3, 4]
```

## Accessing Elements

Access elements by their index position.

**Bracket Notation:**
```javascript
let fruits = ["apple", "banana", "orange"];

console.log(fruits[0]);  // "apple" (first element)
console.log(fruits[1]);  // "banana" (second element)
console.log(fruits[2]);  // "orange" (third element)
console.log(fruits[3]);  // undefined (out of bounds)
```

**Negative Indexing (with at()):**
```javascript
let arr = [1, 2, 3, 4, 5];

arr.at(0);   // 1 (first)
arr.at(-1);  // 5 (last)
arr.at(-2);  // 4 (second to last)
```

**Modifying Elements:**
```javascript
let colors = ["red", "green", "blue"];

colors[1] = "yellow";  // Replace second element
console.log(colors);   // ["red", "yellow", "blue"]

colors[5] = "purple";  // Creates sparse array
console.log(colors);   // ["red", "yellow", "blue", empty × 2, "purple"]
```

## Array Indexing

Zero-based indexing in JavaScript arrays.

**Index Range:**
```javascript
let arr = ["a", "b", "c", "d", "e"];
// Index:   0    1    2    3    4

// First element: index 0
// Last element: index length - 1

console.log(arr[0]);              // "a"
console.log(arr[arr.length - 1]); // "e"
```

**Finding Index:**
```javascript
let fruits = ["apple", "banana", "orange", "banana"];

fruits.indexOf("banana");      // 1 (first occurrence)
fruits.lastIndexOf("banana");  // 3 (last occurrence)
fruits.indexOf("grape");       // -1 (not found)
```

**Check if Index Exists:**
```javascript
let arr = [10, 20, 30];

0 in arr;  // true
2 in arr;  // true
5 in arr;  // false

// For sparse arrays
let sparse = [];
sparse[10] = "value";
0 in sparse;   // false
10 in sparse;  // true
```

## Array Length

The length property reflects array size.

**Getting Length:**
```javascript
let arr = [1, 2, 3, 4, 5];
console.log(arr.length);  // 5

let empty = [];
console.log(empty.length);  // 0
```

**Setting Length:**
```javascript
let arr = [1, 2, 3, 4, 5];

// Truncate array
arr.length = 3;
console.log(arr);  // [1, 2, 3]

// Extend array (creates empty slots)
arr.length = 5;
console.log(arr);  // [1, 2, 3, empty × 2]
```

**Common Patterns:**
```javascript
let arr = [1, 2, 3];

// Last element
let last = arr[arr.length - 1];  // 3

// Clear array
arr.length = 0;  // []

// Loop with length
for (let i = 0; i < arr.length; i++) {
    console.log(arr[i]);
}
```

## Checking Arrays

Verify if a value is an array.

**Array.isArray():**
```javascript
Array.isArray([1, 2, 3]);     // true
Array.isArray([]);            // true
Array.isArray("hello");       // false
Array.isArray({ length: 3 }); // false (array-like, not array)
Array.isArray(null);          // false
```

**Why Not typeof:**
```javascript
typeof [];        // "object" (not helpful)
typeof {};        // "object" (same!)
typeof null;      // "object"

// Use Array.isArray() instead
Array.isArray([]);  // true
Array.isArray({});  // false
```

**instanceof:**
```javascript
[] instanceof Array;  // true
{} instanceof Array;  // false

// Note: May fail across frames/iframes
// Prefer Array.isArray()
```

## Multi-Dimensional Arrays

Arrays containing other arrays.

**2D Arrays:**
```javascript
let matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
];

// Access elements
console.log(matrix[0]);      // [1, 2, 3] (first row)
console.log(matrix[0][0]);   // 1 (first element)
console.log(matrix[1][2]);   // 6 (row 1, col 2)
```

**Iterating 2D Arrays:**
```javascript
let grid = [
    [1, 2, 3],
    [4, 5, 6]
];

for (let row = 0; row < grid.length; row++) {
    for (let col = 0; col < grid[row].length; col++) {
        console.log(`[${row}][${col}] = ${grid[row][col]}`);
    }
}

// Or with forEach
grid.forEach((row, rowIndex) => {
    row.forEach((cell, colIndex) => {
        console.log(`[${rowIndex}][${colIndex}] = ${cell}`);
    });
});
```

**Creating 2D Arrays:**
```javascript
// Create 3x3 grid filled with zeros
let grid = Array.from({ length: 3 }, () => 
    Array.from({ length: 3 }, () => 0)
);
// [[0, 0, 0], [0, 0, 0], [0, 0, 0]]

// Wrong way (all rows reference same array!)
let wrong = Array(3).fill(Array(3).fill(0));
wrong[0][0] = 1;
console.log(wrong);  // [[1, 0, 0], [1, 0, 0], [1, 0, 0]] - Bug!
```

**Jagged Arrays:**
```javascript
// Rows can have different lengths
let jagged = [
    [1],
    [2, 3],
    [4, 5, 6]
];

console.log(jagged[0].length);  // 1
console.log(jagged[2].length);  // 3
```

## Summary / Key Takeaways

- **Creating arrays:** Use literal `[]` syntax; `Array.from()` for conversion
- **Zero indexing:** First element at index 0, last at `length - 1`
- **Accessing:** Use `arr[index]`; `arr.at(-1)` for last element
- **Length:** Readable and writable; truncating removes elements
- **Checking:** Use `Array.isArray()`, not `typeof`
- **Multi-dimensional:** Arrays of arrays; access with `arr[row][col]`
- **Sparse arrays:** Avoid creating gaps in arrays
- **Best practice:** Prefer array literal over constructor

Arrays are the fundamental ordered data structure in JavaScript.
