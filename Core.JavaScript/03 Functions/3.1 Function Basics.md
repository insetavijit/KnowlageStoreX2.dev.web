# **[[3.1 Function Basics]]**

## Overview

This topic covers function fundamentals. You'll learn function declaration syntax, how to call functions, return values, the difference between functions and methods, and how functions enable code organization.

## Function Declaration

Functions are reusable blocks of code that perform specific tasks.

**Syntax:**
```javascript
function functionName(parameters) {
    // Function body
    return value;  // Optional
}
```

**Basic Example:**
```javascript
function greet() {
    console.log("Hello, World!");
}

function add(a, b) {
    return a + b;
}

function isEven(number) {
    return number % 2 === 0;
}
```

**Naming Conventions:**
```javascript
// Use camelCase, descriptive verb phrases
function calculateTotal() { }
function getUserName() { }
function validateInput() { }
function sendEmail() { }

// Boolean functions often use is/has/can
function isValid() { }
function hasPermission() { }
function canEdit() { }
```

## Function Syntax

Components of a function declaration.

**Complete Syntax:**
```javascript
function functionName(param1, param2, param3) {
    // Statements
    let result = param1 + param2 + param3;
    
    // Return statement (optional)
    return result;
}
```

**No Parameters:**
```javascript
function sayHello() {
    console.log("Hello!");
}
```

**With Parameters:**
```javascript
function greetUser(name) {
    console.log("Hello, " + name);
}

function multiply(a, b) {
    return a * b;
}
```

**No Return (Implicit undefined):**
```javascript
function logMessage(message) {
    console.log(message);
    // Returns undefined
}

let result = logMessage("Test");
console.log(result);  // undefined
```

## Calling Functions

Execute functions by using their name followed by parentheses.

**Basic Calls:**
```javascript
// Define
function sayHi() {
    console.log("Hi!");
}

// Call
sayHi();  // "Hi!"
sayHi();  // Can call multiple times
```

**With Arguments:**
```javascript
function greet(name) {
    console.log("Hello, " + name);
}

greet("Alice");  // "Hello, Alice"
greet("Bob");    // "Hello, Bob"

let user = "Charlie";
greet(user);     // "Hello, Charlie"
```

**Storing Return Values:**
```javascript
function add(a, b) {
    return a + b;
}

let sum = add(5, 3);
console.log(sum);  // 8

// Use directly in expressions
let total = add(10, add(5, 3));  // 18
console.log(add(2, 2) * 3);  // 12
```

**Function Reference vs Call:**
```javascript
function greet() {
    console.log("Hello");
}

greet();    // Calls the function
greet;      // Reference to function (doesn't execute)

let myFunc = greet;  // Store reference
myFunc();   // Now call it
```

## Return Values

Functions can return values to the caller.

**Returning Values:**
```javascript
function square(x) {
    return x * x;
}

let result = square(5);  // 25

function getFullName(first, last) {
    return first + " " + last;
}

let name = getFullName("John", "Doe");  // "John Doe"
```

**Early Return:**
```javascript
function divide(a, b) {
    if (b === 0) {
        return null;  // Exit early
    }
    return a / b;
}

function findUser(users, id) {
    for (let user of users) {
        if (user.id === id) {
            return user;  // Exit when found
        }
    }
    return null;  // Not found
}
```

**Multiple Values (Object/Array):**
```javascript
function getMinMax(numbers) {
    return {
        min: Math.min(...numbers),
        max: Math.max(...numbers)
    };
}

let result = getMinMax([5, 2, 9, 1, 7]);
console.log(result.min, result.max);  // 1 9

// Destructuring
let { min, max } = getMinMax([5, 2, 9, 1, 7]);
```

**No Return Statement:**
```javascript
function logValue(val) {
    console.log(val);
}

let result = logValue("test");  // undefined
```

## Function vs Method

Methods are functions attached to objects.

**Function:**
```javascript
// Standalone function
function greet(name) {
    console.log("Hello, " + name);
}

greet("World");
```

**Method:**
```javascript
// Function as object property
let person = {
    name: "John",
    greet: function() {
        console.log("Hello, " + this.name);
    }
};

person.greet();  // "Hello, John"

// Shorthand method syntax (ES6)
let user = {
    name: "Jane",
    greet() {
        console.log("Hello, " + this.name);
    }
};

user.greet();  // "Hello, Jane"
```

**Built-in Methods:**
```javascript
// Array methods
let arr = [1, 2, 3];
arr.push(4);  // Method call

// String methods
let str = "hello";
str.toUpperCase();  // Method call

// Console methods
console.log("message");  // Method call
```

## Code Organization

Functions improve code structure and maintainability.

**Without Functions:**
```javascript
// Repetitive, hard to maintain
let price1 = 100;
let tax1 = price1 * 0.08;
let total1 = price1 + tax1;

let price2 = 50;
let tax2 = price2 * 0.08;
let total2 = price2 + tax2;
```

**With Functions:**
```javascript
function calculateTotal(price, taxRate = 0.08) {
    let tax = price * taxRate;
    return price + tax;
}

let total1 = calculateTotal(100);  // 108
let total2 = calculateTotal(50);   // 54
```

**Single Responsibility:**
```javascript
// Each function does one thing
function validateEmail(email) {
    return email.includes('@');
}

function formatEmail(email) {
    return email.toLowerCase().trim();
}

function sendWelcomeEmail(email) {
    // Send email logic
}

// Compose together
function registerUser(email) {
    email = formatEmail(email);
    
    if (!validateEmail(email)) {
        return { success: false, error: "Invalid email" };
    }
    
    sendWelcomeEmail(email);
    return { success: true };
}
```

**Abstraction:**
```javascript
// Hide implementation details
function getUserDisplayName(user) {
    if (user.nickname) {
        return user.nickname;
    }
    return user.firstName + " " + user.lastName;
}

// Caller doesn't need to know the logic
console.log(getUserDisplayName(user));
```

## Summary / Key Takeaways

- **Function declaration:** `function name(params) { body }`
- **Calling functions:** Use parentheses with arguments: `func(arg1, arg2)`
- **Return values:** Exit function and pass value back to caller
- **Early return:** Exit function immediately when condition met
- **Functions vs methods:** Methods are functions on objects, use `this`
- **Code organization:** Functions enable reusability, single responsibility, abstraction
- **Naming:** Use descriptive verb phrases in camelCase
- **No return:** Functions without return statement return `undefined`

Functions are the building blocks of modular, maintainable JavaScript code.
